!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("canvas")):"function"==typeof define&&define.amd?define(["canvas"],e):"object"==typeof exports?exports.getMainColor=e(require("canvas")):t.getMainColor=e(t.canvas)}(this,(t=>{return e=[(t,e,n)=>{const r="undefined"==typeof window?n(1):n(3),o=n(4);t.exports=async function(t,e={}){const n=await r(t,e);return o(n)}},(t,e,n)=>{const{createCanvas:r,loadImage:o}=n(2);t.exports=async function(t,e){const n=await o(t),a=r(n.width,n.height).getContext("2d");let i;var s;return a.drawImage(n,0,0),s=e,i=Object.keys(s).length?a.getImageData(e.x,e.y,e.width,e.height):a.getImageData(0,0,n.width,n.height),i.data}},e=>{"use strict";e.exports=t},t=>{t.exports=async function(t,e){const n=await(r=t,new Promise(((t,e)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>t(n),n.onerror=t=>e(t),n.src=r})));var r;const o=document.createElement("canvas");o.width=n.width,o.height=n.height;const a=o.getContext("2d");let i;var s;return a.drawImage(n,0,0),s=e,i=Object.keys(s).length?a.getImageData(e.x,e.y,e.width,e.height):a.getImageData(0,0,n.width,n.height),i.data}},t=>{t.exports=function(t){let e=-4,n=0,r={r:0,g:0,b:0};for(;(e+=20)<t.length;)++n,r.r+=t[e],r.g+=t[e+1],r.b+=t[e+2];return r.r=~~(r.r/n),r.g=~~(r.g/n),r.b=~~(r.b/n),"rgb("+r.r+","+r.g+","+r.b+")"}}],n={},function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,t),a.exports}(0);var e,n}));